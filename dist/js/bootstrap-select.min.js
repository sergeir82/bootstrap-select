/*!
 * Bootstrap-select v1.10.0 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2016 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){!function(a,b){"use strict";function c(b){var c=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return a.each(c,function(){b=b.replace(this.re,this.ch)}),b}function d(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c="(?:"+Object.keys(b).join("|")+")",d=new RegExp(c),e=new RegExp(c,"g"),f=null==a?"":""+a;return d.test(f)?f.replace(e,function(a){return b[a]}):f}function e(b,c){var d=arguments,e=b,f=c;[].shift.apply(d);var h,i=this.each(function(){var b=a(this);if(b.is("select")){var c=b.data("selectpicker"),i="object"==typeof e&&e;if(c){if(i)for(var j in i)i.hasOwnProperty(j)&&(c.options[j]=i[j])}else{var k=a.extend({},g.DEFAULTS,a.fn.selectpicker.defaults||{},b.data(),i);k.template=a.extend({},g.DEFAULTS.template,a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{},b.data().template,i.template),b.data("selectpicker",c=new g(this,k,f))}"string"==typeof e&&(h=c[e]instanceof Function?c[e].apply(c,d):c.options[e])}});return"undefined"!=typeof h?h:i}var f=function(b){this.options=b||{},this.searchText="",this.normalizedText="",this.optgroup=this.options.optgroup&&parseInt(this.options.optgroup,10),b.link&&(this.searchText=b.link.insertContent?b.link.text:a("<div/>").html(b.link.text).text(),this.normalizedText=this.options.pluginOpt.liveSearchNormalize?c(d(this.searchText)):"",this.tokens=b.link.tokens)};f.prototype.toString=function(){var a,b=this.options;if(b.link){var c=b.link.insertContent?b.link.text:b.link.icon+'<span class="text">'+b.link.text+b.link.subtext+"</span>";a=this.generateA(c,b.link.classes,b.link.inline,b.link.tokens)}else a=b.content;var d=[b.classes];return this.disabled&&d.push("disabled"),this.selected&&d.push("selected"),this.generateLI(a,b.index,d.join(" "),b.optgroup)},f.prototype.generateLI=function(a,b,c,d){return"<li"+(c?' class="'+c+'"':"")+(b||0===b?' data-original-index="'+b+'"':"")+(d||0===d?'data-optgroup="'+d+'"':"")+">"+a+"</li>"},f.prototype.generateA=function(a,b,c,d){return'<a tabindex="0"'+(b?' class="'+b+'"':"")+(c?' style="'+c+'"':"")+">"+a+'<span class="'+this.options.pluginOpt.iconBase+" "+this.options.pluginOpt.tickIcon+' check-mark"></span></a>'},String.prototype.includes||!function(){var a={}.toString,b=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(d){}return c}(),c="".indexOf,d=function(b){if(null==this)throw new TypeError;var d=String(this);if(b&&"[object RegExp]"==a.call(b))throw new TypeError;var e=d.length,f=String(b),g=f.length,h=arguments.length>1?arguments[1]:void 0,i=h?Number(h):0;i!=i&&(i=0);var j=Math.min(Math.max(i,0),e);return g+j>e?!1:-1!=c.call(d,f,i)};b?b(String.prototype,"includes",{value:d,configurable:!0,writable:!0}):String.prototype.includes=d}(),String.prototype.startsWith||!function(){var a=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(d){}return c}(),b={}.toString,c=function(a){if(null==this)throw new TypeError;var c=String(this);if(a&&"[object RegExp]"==b.call(a))throw new TypeError;var d=c.length,e=String(a),f=e.length,g=arguments.length>1?arguments[1]:void 0,h=g?Number(g):0;h!=h&&(h=0);var i=Math.min(Math.max(h,0),d);if(f+i>d)return!1;for(var j=-1;++j<f;)if(c.charCodeAt(i+j)!=e.charCodeAt(j))return!1;return!0};a?a(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c}(),Object.keys||(Object.keys=function(a,b,c){c=[];for(b in a)c.hasOwnProperty.call(a,b)&&c.push(b);return c}),a.fn.triggerNative=function(a){var b,c=this[0];c.dispatchEvent?("function"==typeof Event?b=new Event(a,{bubbles:!0}):(b=document.createEvent("Event"),b.initEvent(a,!0,!1)),c.dispatchEvent(b)):(c.fireEvent&&(b=document.createEventObject(),b.eventType=a,c.fireEvent("on"+a,b)),this.trigger(a))};var g=function(b,c,d){d&&(d.stopPropagation(),d.preventDefault()),this.$element=a(b),this.$newElement=null,this.$button=null,this.$menu=null,this.options=c,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=g.prototype.val,this.render=g.prototype.render,this.refresh=g.prototype.refresh,this.setStyle=g.prototype.setStyle,this.selectAll=g.prototype.selectAll,this.deselectAll=g.prototype.deselectAll,this.destroy=g.prototype.destroy,this.remove=g.prototype.remove,this.show=g.prototype.show,this.hide=g.prototype.hide,this.init()};g.VERSION="1.10.0",g.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a,b){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,clusterize:!0},g.prototype={constructor:g,init:function(){var b=this,c=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.find(".inner"),this.$searchbox=this.$menu.find("input"),this.$clusterizeScroll=this.$menu.find(".clusterize-scroll"),this.$clusterizeContent=this.$menu.find(".clusterize-content"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof c&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(a){a.preventDefault(),b.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(a){b.$element.trigger("hide.bs.select",a)},"hidden.bs.dropdown":function(a){b.$element.trigger("hidden.bs.select",a)},"show.bs.dropdown":function(a){b.$element.trigger("show.bs.select",a)},"shown.bs.dropdown":function(a){b.$element.trigger("shown.bs.select",a)}}),b.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){b.$button.addClass("bs-invalid").focus(),b.$element.on({"focus.bs.select":function(){b.$button.focus(),b.$element.off("focus.bs.select")},"shown.bs.select":function(){b.$element.val(b.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&b.$button.removeClass("bs-invalid"),b.$element.off("rendered.bs.select")}})}),setTimeout(function(){b.$element.trigger("loaded.bs.select")})},createDropdown:function(){var b=this.multiple||this.options.showTick?" show-tick":"",c=this.$element.parent().hasClass("input-group")?" input-group-btn":"",e=this.autofocus?" autofocus":"",f=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",g=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+d(this.options.liveSearchPlaceholder)+'"')+"></div>":"",h=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",i=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",j='<div class="btn-group bootstrap-select'+b+c+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+e+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+f+g+h+'<div class="dropdown-menu-wrap dropdown-menu inner clusterize-scroll"><ul class="clusterize-content dropdown-menu inner" role="menu"></ul></div>'+i+"</div></div>";return a(j)},createView:function(){var a=this.createDropdown();return this.reloadLi(),a},reloadLi:function(){this.cacheLi=this.createLi()},destroyLi:function(){this.$menu.find("li").remove(),delete this.cacheLi},createLi:function(){var b=this,c=[],d=0,e=document.createElement("option"),g=-1;if(this.options.title&&!this.multiple&&(g--,!this.$element.find(".bs-title-option").length)){var h=this.$element[0];e.className="bs-title-option",e.appendChild(document.createTextNode(this.options.title)),e.value="",h.insertBefore(e,h.firstChild),void 0===a(h.options[h.selectedIndex]).attr("selected")&&(e.selected=!0)}return this.$element.find("option").each(function(e){var h=a(this);if(g++,!h.hasClass("bs-title-option")){var i=this.className||"",j=this.style.cssText,k=!!h.data("content"),l=k?h.data("content"):h.html(),m=h.data("tokens")?h.data("tokens"):null,n="undefined"!=typeof h.data("subtext")?'<small class="text-muted">'+h.data("subtext")+"</small>":"",o="undefined"!=typeof h.data("icon")?'<span class="'+b.options.iconBase+" "+h.data("icon")+'"></span> ':"",p="OPTGROUP"===this.parentNode.tagName,q=this.disabled||p&&this.parentNode.disabled;if(""!==o&&q&&(o="<span>"+o+"</span>"),b.options.hideDisabled&&q&&!p)return void g--;if(p&&h.data("divider")!==!0){var r=" "+this.parentNode.className||"";if(0===h.index()){d+=1;var s=this.parentNode.label,t="undefined"!=typeof h.parent().data("subtext")?'<small class="text-muted">'+h.parent().data("subtext")+"</small>":"",u=h.parent().data("icon")?'<span class="'+b.options.iconBase+" "+h.parent().data("icon")+'"></span> ':"";s=u+'<span class="text">'+s+t+"</span>",0!==e&&c.length>0&&(g++,c.push(new f({content:"",index:null,classes:"divider",optgroup:d+"div",pluginOpt:b.options}))),g++,c.push(new f({content:s,index:null,classes:"dropdown-header"+r,optgroup:d,pluginOpt:b.options}))}if(b.options.hideDisabled&&q)return void g--;c.push(new f({link:{text:l,subtext:n,icon:o,insertContent:k,classes:"opt "+i+r,inline:j,tokens:m},index:e,classes:"",optgroup:d,pluginOpt:b.options}))}else h.data("divider")===!0?c.push(new f({content:"",index:e,classes:"divider",pluginOpt:b.options})):h.data("hidden")===!0?c.push(new f({link:{text:l,subtext:n,icon:o,insertContent:k,classes:i,inline:j,tokens:m},index:e,classes:"hidden is-hidden",pluginOpt:b.options})):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(g++,c.push(new f({content:"",index:null,classes:"divider",optgroup:d+"div",pluginOpt:b.options}))),c.push(new f({link:{text:l,subtext:n,icon:o,insertContent:k,classes:i,inline:j,tokens:m},index:e,optgroup:p?d:null,pluginOpt:b.options})));b.liObj[e]=g}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),c},render:function(b){var c,d=this;b!==!1&&this.$element.find("option").each(function(a){d.setDisabled(a,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled),d.setSelected(a,this.selected)}),this.tabIndex();var e=this.$element.find("option").map(function(){if(this.selected){if(d.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var b,c=a(this),e=c.data("icon")&&d.options.showIcon?'<i class="'+d.options.iconBase+" "+c.data("icon")+'"></i> ':"";return b=d.options.showSubtext&&c.data("subtext")&&!d.multiple?' <small class="text-muted">'+c.data("subtext")+"</small>":"","undefined"!=typeof c.attr("title")?c.attr("title"):c.data("content")&&d.options.showContent?c.data("content"):e+c.html()+b}}).toArray(),f=this.multiple?e.join(this.options.multipleSeparator):e[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var g=this.options.selectedTextFormat.split(">");if(g.length>1&&e.length>g[1]||1==g.length&&e.length>=2){c=this.options.hideDisabled?", [disabled]":"";var h=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+c).length,i="function"==typeof this.options.countSelectedText?this.options.countSelectedText(e.length,h):this.options.countSelectedText;f=i.replace("{0}",e.length.toString()).replace("{1}",h.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(f=this.options.title),f||(f="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",a.trim(f.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(f),this.$element.trigger("rendered.bs.select")},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var c=a?a:this.options.style;"add"==b?this.$button.addClass(c):"remove"==b?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c))},liHeight:function(b){if(b||this.options.size!==!1&&!this.sizeInfo){var c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("ul"),f=document.createElement("li"),g=document.createElement("li"),h=document.createElement("a"),i=document.createElement("span"),j=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,k=this.options.liveSearch?document.createElement("div"):null,l=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,m=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(i.className="text",c.className=this.$menu[0].parentNode.className+" open",d.className="dropdown-menu open",e.className="dropdown-menu inner",f.className="divider",i.appendChild(document.createTextNode("Inner text")),h.appendChild(i),g.appendChild(h),e.appendChild(g),e.appendChild(f),j&&d.appendChild(j),k){var n=document.createElement("span");k.className="bs-searchbox",n.className="form-control",k.appendChild(n),d.appendChild(k)}l&&d.appendChild(l),d.appendChild(e),m&&d.appendChild(m),c.appendChild(d),document.body.appendChild(c);var o=h.offsetHeight,p=j?j.offsetHeight:0,q=k?k.offsetHeight:0,r=l?l.offsetHeight:0,s=m?m.offsetHeight:0,t=a(f).outerHeight(!0),u="function"==typeof getComputedStyle?getComputedStyle(d):!1,v=u?null:a(d),w=parseInt(u?u.paddingTop:v.css("paddingTop"))+parseInt(u?u.paddingBottom:v.css("paddingBottom"))+parseInt(u?u.borderTopWidth:v.css("borderTopWidth"))+parseInt(u?u.borderBottomWidth:v.css("borderBottomWidth")),x=w+parseInt(u?u.marginTop:v.css("marginTop"))+parseInt(u?u.marginBottom:v.css("marginBottom"))+2;document.body.removeChild(c),this.sizeInfo={liHeight:o,headerHeight:p,searchHeight:q,actionsHeight:r,doneButtonHeight:s,dividerHeight:t,menuPadding:w,menuExtras:x}}},setSize:function(){var b=this.$menu.find("li");if(this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var c,d,e,f,g=this,h=this.$menu,i=this.$menuInner,j=a(window),k=this.$newElement[0].offsetHeight,l=this.sizeInfo.liHeight,m=this.sizeInfo.headerHeight,n=this.sizeInfo.searchHeight,o=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,q=this.sizeInfo.dividerHeight,r=this.sizeInfo.menuPadding,s=this.sizeInfo.menuExtras,t=this.options.hideDisabled?".disabled":"",u=function(){e=g.$newElement.offset().top-j.scrollTop(),f=j.height()-e-k};if(u(),"auto"===this.options.size){var v=function(){var i,j=function(b,c){return function(d){return c?d.classList?d.classList.contains(b):a(d).hasClass(b):!(d.classList?d.classList.contains(b):a(d).hasClass(b))}},k=g.$menuInner[0].getElementsByTagName("li"),q=Array.prototype.filter?Array.prototype.filter.call(k,j("hidden",!1)):b.not(".hidden"),t=Array.prototype.filter?Array.prototype.filter.call(q,j("dropdown-header",!0)):q.filter(".dropdown-header");u(),c=f-s,g.options.container?(h.data("height")||h.data("height",h.height()),d=h.data("height")):d=h.height(),g.options.dropupAuto&&g.$newElement.toggleClass("dropup",e>f&&d>c-s),g.$newElement.hasClass("dropup")&&(c=e-s),i=q.length+t.length>3?3*l+s-2:0,h.css({"max-height":c+"px",overflow:"hidden","min-height":i+m+n+o+p+"px"}),g.$clusterizeScroll.css({"max-height":c-m-n-o-p-r+"px","overflow-y":"auto","min-height":Math.max(i-r,0)+"px"})};v(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",v),j.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",v)}else if(this.options.size&&"auto"!=this.options.size&&b.not(t).length>this.options.size){var w=b.not(".divider").not(t).children().slice(0,this.options.size).last().parent().index(),x=b.slice(0,w+1).filter(".divider").length;c=l*this.options.size+x*q+r,g.options.container?(h.data("height")||h.data("height",h.height()),d=h.data("height")):d=h.height(),g.options.dropupAuto&&this.$newElement.toggleClass("dropup",e>f&&d>c-s),h.css({"max-height":c+m+n+o+p+"px",overflow:"hidden","min-height":""}),i.css({"max-height":c-r+"px","overflow-y":"auto","min-height":""})}this.clusterize&&this.clusterize.refresh()}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var a=this.$menu.parent().clone().appendTo("body"),b=this.options.container?this.$newElement.clone().appendTo("body"):a,c=a.children(".dropdown-menu").outerWidth(),d=b.css("width","auto").children("button").outerWidth();a.remove(),b.remove(),this.$newElement.css("width",Math.max(c,d)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=a('<div class="bs-container" />');var b,c,d=this,e=function(a){d.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",a.hasClass("dropup")),b=a.offset(),c=a.hasClass("dropup")?0:a[0].offsetHeight,d.$bsContainer.css({top:b.top+c,left:b.left,width:a[0].offsetWidth})};this.$button.on("click",function(){var b=a(this);d.isDisabled()||(e(d.$newElement),d.$bsContainer.appendTo(d.options.container).toggleClass("open",!b.hasClass("open")).append(d.$menu))}),a(window).on("resize scroll",function(){e(d.$newElement)}),this.$element.on("hide.bs.select",function(){d.$menu.data("height",d.$menu.height()),d.$bsContainer.detach()})},setSelected:function(a,b){void 0!==this.liObj[a]&&(this.cacheLi[this.liObj[a]].selected=b,this.$menuInner.find("li[data-original-index = "+a+"]").toggleClass("selected",b))},setDisabled:function(a,b){this.liObj[a]&&(this.cacheLi[this.liObj[a]].disabled=b)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var a=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!a.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},scrollToIndex:function(a){var b=this.$menuInner.find("li[data-original-index]").height()*a;b=b-this.$menuInner[0].offsetHeight/2+this.sizeInfo.liHeight/2,this.$menuInner[0].scrollTop=b,this.$menuInner.scroll(),setTimeout(function(){if(void 0!==a){var b=this.$menuInner.find("li[data-original-index = "+this.cacheLi[a].options.index+"]");b.find("a").focus(),b.toggleClass("active",!0)}}.bind(this),100)},clickListener:function(){var c=this,d=a(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),d.data("spaceSelect",!1),this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&d.data("spaceSelect")&&(a.preventDefault(),d.data("spaceSelect",!1))}),this.$button.on("click",function(){c.setSize()}),this.$element.on("shown.bs.select",function(){c.clusterize&&c.clusterize.destroy(!0),c.clusterize=new b({rows:c.cacheLi,scrollElem:c.$clusterizeScroll.get(0),contentElem:c.$clusterizeContent.get(0),no_data_text:c.options.noneResultsText,callbacks:{scrollingProgress:function(){var b=c.clusterize,d=[],e=Array.prototype.reduce.call(b.content_elem.childNodes,function(b,c){var e=a(c).hasClass("clusterize-extra-row");return e||d.push(c),b+(e?0:a(c).outerHeight(!0))},0);console.log(e,b.options.cluster_height),console.log("rows_in_cluster",d.length,b.options.rows_in_cluster);var f=(b.options.cluster_height/(b.options.rows_in_block*b.options.blocks_in_cluster),(e/d.length-b.options.item_height)/b.options.item_height),g=(e-b.options.cluster_height)/b.options.cluster_height;console.log("angle: ",f,g);var h=-f*(b.options.scroll_top-(b.options.cluster_height-b.options.block_height)*b.getClusterNum());d.length<b.options.rows_in_cluster&&(h=0),d.forEach(function(a){a.style.transform="translateY("+h+"px)"})}}}),c.clusterize.refreshOld=c.clusterize.refresh,c.clusterize.refresh=function(){c.clusterize.refreshOld(),c.clusterize.options.callbacks.scrollingProgress()},c.$clusterizeScroll.on("mousewheel",function(b,c){(this.scrollTop===this.scrollHeight-a(this).height()&&0>c||0===this.scrollTop&&c>0)&&b.preventDefault()});var d=c.liObj[c.$element[0].selectedIndex];"number"==typeof d&&c.options.size!==!1&&c.scrollToIndex(d)}),this.$element.on("hide.bs.select",function(){c.clusterize.destroy(!0)}),this.$menuInner.on("click","li a",function(b){var d=a(this),e=d.parent().data("originalIndex"),f=c.$element.val(),g=c.$element.prop("selectedIndex");if(c.multiple&&b.stopPropagation(),b.preventDefault(),!c.isDisabled()&&!d.parent().hasClass("disabled")){var h=c.$element.find("option"),i=h.eq(e),j=i.prop("selected"),k=i.parent("optgroup"),l=c.options.maxOptions,m=k.data("maxOptions")||!1;if(c.multiple){if(i.prop("selected",!j),c.setSelected(e,!j),d.blur(),l!==!1||m!==!1){var n=l<h.filter(":selected").length,o=m<k.find("option:selected").length;if(l&&n||m&&o)if(l&&1==l)h.prop("selected",!1),i.prop("selected",!0),c.$menuInner.find(".selected").removeClass("selected"),c.setSelected(e,!0);else if(m&&1==m){k.find("option:selected").prop("selected",!1),i.prop("selected",!0);var p=d.parent().data("optgroup");c.$menuInner.find('[data-optgroup="'+p+'"]').removeClass("selected"),c.setSelected(e,!0)}else{var q="function"==typeof c.options.maxOptionsText?c.options.maxOptionsText(l,m):c.options.maxOptionsText,r=q[0].replace("{n}",l),s=q[1].replace("{n}",m),t=a('<div class="notify"></div>');q[2]&&(r=r.replace("{var}",q[2][l>1?0:1]),s=s.replace("{var}",q[2][m>1?0:1])),i.prop("selected",!1),c.$menu.append(t),l&&n&&(t.append(a("<div>"+r+"</div>")),c.$element.trigger("maxReached.bs.select")),m&&o&&(t.append(a("<div>"+s+"</div>")),c.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){c.setSelected(e,!1)},10),t.delay(750).fadeOut(300,function(){a(this).remove()})}}}else h.prop("selected",!1),i.prop("selected",!0),c.$menuInner.find(".selected").removeClass("selected"),c.setSelected(e,!0);c.multiple?c.options.liveSearch&&c.$searchbox.focus():c.$button.focus(),(f!=c.$element.val()&&c.multiple||g!=c.$element.prop("selectedIndex")&&!c.multiple)&&c.$element.trigger("changed.bs.select",[e,i.prop("selected"),j]).triggerNative("change")}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(b){b.currentTarget==this&&(b.preventDefault(),b.stopPropagation(),c.options.liveSearch&&!a(b.target).hasClass("close")?c.$searchbox.focus():c.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),c.options.liveSearch?c.$searchbox.focus():c.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){c.$button.click()}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(b){c.options.liveSearch?c.$searchbox.focus():c.$button.focus(),b.preventDefault(),b.stopPropagation(),a(this).hasClass("bs-select-all")?c.selectAll():c.deselectAll()}),this.$element.change(function(){c.render(!1)})},liveSearchListener:function(){var b=this,c=a('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){b.$menuInner.find(".active").removeClass("active"),b.$searchbox.val()&&(b.$searchbox.val(""),c.parent().length&&c.remove()),b.multiple||b.$menuInner.find(".selected").addClass("active"),setTimeout(function(){b.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(a){a.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(b.$searchbox.val()){var c=b.$searchbox.val();new RegExp(c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"i");b.clusterize.options.no_data_text=b.options.noneResultsText.replace("{0}",'"'+d(b.$searchbox.val())+'"');var e=function(a,c){var d;return c=c.toUpperCase(),b.options.liveSearchNormalize?"ibegins"==b._searchStyle()?(d=(a.tokens||a.normalizedText||a.searchText).toUpperCase(),d.startsWith(c)):(d=(a.tokens||a.normalizedText||a.searchText).toUpperCase(),d.includes(c)):"ibegins"==b._searchStyle()?(d=(a.tokens||a.searchText).toUpperCase(),d.startsWith(c)):(d=(a.tokens||a.searchText).toUpperCase(),d.includes(c))};if(b.clusterize)for(var f,g,h=[],i=[],j=!1,k=0;k<b.cacheLi.length;k++)f=b.cacheLi[k],f.options.link||(f.optgroup!=g?(j=!1,g=f.optgroup,i=[f]):j?h.push(f):i.push(f)),e(f,c)&&(f.optgroup==g&&(i.forEach(function(a){h.push(a)}),i=[],j=!0),h.push(f));b.clusterize.update(h),b.$menuInner.find("a:first").parent().addClass("active").focus(),a(this).focus()}else b.clusterize.update(b.cacheLi)})},_searchStyle:function(){var a={begins:"ibegins",startsWith:"ibegins"};return a[this.options.liveSearchStyle]||"icontains"},val:function(a){return"undefined"!=typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},changeAll:function(a){"undefined"==typeof a&&(a=!0);for(var b=0;b<this.cacheLi.length;b++)this.cacheLi[b].options.link&&!this.cacheLi[b].disabled&&(this.cacheLi[b].selected=a);this.$element.find("option").prop("selected",a),this.$menuInner.find("li[data-original-index]").toggleClass("selected",a),this.$element.trigger("changed.bs.select").triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(a){a=a||window.event,a&&a.stopPropagation(),this.$button.trigger("click")},keydown:function(b){var c,d,e,f,g,h,i,j,k,l=a(this),m=l.closest(".bootstrap-select"),n=m.data("this"),o=":not(.disabled, .hidden, .dropdown-header, .divider)",p=n.clusterize.getClusterNum(),q={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(n.options.liveSearch&&(m=l.parent().parent()),n.options.container&&(m=n.$menu),c=a("[role=menu] li",m),k=n.$newElement.hasClass("open"),!k&&(b.keyCode>=48&&b.keyCode<=57||b.keyCode>=96&&b.keyCode<=105||b.keyCode>=65&&b.keyCode<=90)&&(n.options.container?n.$button.trigger("click"):(n.setSize(),n.$menu.parent().addClass("open"),k=!0),n.$searchbox.focus()),n.options.liveSearch&&(/(^9$|27)/.test(b.keyCode.toString(10))&&k&&0===n.$menu.find(".active").length&&(b.preventDefault(),n.$menu.parent().removeClass("open"),n.options.container&&n.$newElement.removeClass("open"),n.$button.focus()),c=a("[role=menu] li"+o,m)),c.length){if(/(38|40)/.test(b.keyCode.toString(10)))if(d=c.index(c.find("a").filter(":focus").parent()),f=c.filter(o).first().index(),g=c.filter(o).last().index(),e=c.eq(d).nextAll(o).eq(0).index(),h=c.eq(d).prevAll(o).eq(0).index(),i=c.eq(e).prevAll(o).eq(0).index(),console.log(d,e,h,i),n.options.liveSearch&&(c.each(function(b){a(this).hasClass("disabled")||a(this).data("index",b)}),d=c.index(c.filter(".active")),f=c.first().data("index"),g=c.last().data("index"),e=c.eq(d).nextAll().eq(0).data("index"),h=c.eq(d).prevAll().eq(0).data("index"),i=c.eq(e).prevAll().eq(0).data("index")),j=l.data("prevIndex"),38==b.keyCode?(n.options.liveSearch&&d--,d!=i&&d>h&&(d=h),f>d&&(d=f),d==j&&(d=g),console.log(c.eq(d))):40==b.keyCode&&(n.options.liveSearch&&d++,-1==d&&(d=0),d!=i&&e>d&&(d=e),d>g&&(console.log(c.eq(d)),d=g),d==j&&(d=f)),l.data("prevIndex",d),n.options.liveSearch){if(b.preventDefault(),!l.hasClass("dropdown-toggle")){var r=c.removeClass("active").eq(d).data("originalIndex");c.filter('li[data-original-index = "'+r+'"]').addClass("active").children("a").focus(),l.focus(),p!=n.clusterize.getClusterNum()&&setTimeout(function(){c=a("[role=menu] li[data-original-index]",this.$clusterizeContent),c.eq(0).addClass("active").children("a").focus()}.bind(this),50),p=n.clusterize.getClusterNum()}}else c.eq(d).children("a").focus();else if(!l.is("input")&&n.clusterize){var s,t,u=[];a.each(n.cacheLi,function(c,d){a.trim(d.searchText).toLowerCase().substring(0,1)==q[b.keyCode]&&u.push(c)}),s=a(document).data("keycount"),s++,a(document).data("keycount",s),t=a.trim(a(":focus").text().toLowerCase()).substring(0,1),console.log("prevKey",t),t!=q[b.keyCode]?(s=1,a(document).data("keycount",s)):s>=u.length&&(a(document).data("keycount",0),s>u.length&&(s=1));var v=u[s-1];n.scrollToIndex(v)}if((/(13|32)/.test(b.keyCode.toString(10))||/(^9$)/.test(b.keyCode.toString(10))&&n.options.selectOnTab)&&k){if(/(32)/.test(b.keyCode.toString(10))||b.preventDefault(),n.options.liveSearch)/(32)/.test(b.keyCode.toString(10))||(n.$menuInner.find(".active a").click(),l.focus());else{var w=a(":focus");w.click(),w.focus(),b.preventDefault(),a(document).data("spaceSelect",!0)}a(document).data("keycount",0)}(/(^9$|27)/.test(b.keyCode.toString(10))&&k&&(n.multiple||n.options.liveSearch)||/(27)/.test(b.keyCode.toString(10))&&!k)&&(n.$menu.parent().removeClass("open"),n.options.container&&n.$newElement.removeClass("open"),n.$button.focus());
}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.cacheLi&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var h=a.fn.selectpicker;a.fn.selectpicker=e,a.fn.selectpicker.Constructor=g,a.fn.selectpicker.noConflict=function(){return a.fn.selectpicker=h,this},a(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',g.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(a){a.stopPropagation()}),a(window).on("load.bs.select.data-api",function(){a(".selectpicker").each(function(){var b=a(this);e.call(b,b.data())})})}(a,Clusterize)});
//# sourceMappingURL=bootstrap-select.js.map